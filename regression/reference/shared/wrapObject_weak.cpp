// wrapObject_weak.cpp
// This file is generated by Shroud nowrite-version. Do not edit.
// Copyright Shroud Project Developers. See LICENSE file for details.
//
// SPDX-License-Identifier: (BSD-3-Clause)
//

// cxx_header
#include "shared.hpp"
// shroud
#include "wrapObject_weak.h"

// splicer begin class.Object.CXX_definitions
// splicer end class.Object.CXX_definitions

extern "C" {

// splicer begin class.Object.C_definitions
// splicer end class.Object.C_definitions

// ----------------------------------------
// Function:  void assign_weak +custom(weakptr)+operator(assignment)
// Statement: c_subroutine_assignment_weakptr
// ----------------------------------------
// Argument:  std::shared_ptr<Object> *from +intent(in)
// Statement: c_in_smartptr<shadow>*
void SHA_Object_weak_assign_weak(SHA_Object_weak * self,
    SHA_Object_shared *from)
{
    std::weak_ptr<Object> *SH_this =
        static_cast<std::weak_ptr<Object> *>(self->addr);
    // splicer begin class.Object.method.assign_weak
    std::shared_ptr<Object> *SHC_from_cxx =
        static_cast<std::shared_ptr<Object> *>(from->addr);
    if (SH_this == nullptr) {
        SH_this = new std::weak_ptr<Object>(*SHC_from_cxx);
        self->addr = SH_this;
        self->idtor = 4;
    } else {
        *SH_this = *SHC_from_cxx;
    }
    // splicer end class.Object.method.assign_weak
}

// ----------------------------------------
// Function:  long use_count
// Statement: c_function_native
long SHA_Object_weak_use_count(SHA_Object_weak * self)
{
    std::weak_ptr<Object> *SH_this =
        static_cast<std::weak_ptr<Object> *>(self->addr);
    // splicer begin class.Object.method.use_count
    long SHC_rv = SH_this->use_count();
    return SHC_rv;
    // splicer end class.Object.method.use_count
}

}  // extern "C"
